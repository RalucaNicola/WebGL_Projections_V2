<html>
	<head>
		<meta charset="utf-8">
		<title>educational tool on the construction of map projections</title>
		<style>
			#webgl_canvas {
				width: 750px;
				height: 750px;
				
				display: inline-block;
			}
			
			#controls {
				display: inline-block;
				vertical-align: top;
			}
		</style>
	</head>
	<body>
		<div id ="controls">
			  <form style="font-weight: normal" id="surface_geometry">
				<fieldset>
				<b>geometry</b>
				<br>
				<table>
				 <tr>
				  <td>axis length</td>
				  <td><input id="axis_slider" class="slider" type="range"  min="0" max="4" step="0.01" value="4"/></td>
				  <td><input id="axis_box"    class="box"    type="number" min="0" max="4" step="0.01" value="4"/><br></td>
				 </tr>
				 <tr>
				  <td>upper radius</td>
				  <td><input id="upper_radius_slider" class="slider" type="range"  min="0.01" max="4" step="0.01" value="1"/></td>
				  <td><input id="upper_radius_box"    class="box"    type="number" min="0.01" max="4" step="0.01" value="1"/></td>
				 </tr>
				 <tr>
				  <td>lower radius</td>
				  <td><input id="lower_radius_slider" class="slider" type="range"  min="0.01" max="4" step="0.01" value="1"/></td>
				  <td><input id="lower_radius_box"    class="box"    type="number" min="0.01" max="4" step="0.01" value="1"/></td>
				 </tr>
				 <tr>
				  <td>offset</td>
				  <td><input id="geometry_offset_slider" class="slider" type="range"  min="-2" max="2" step="0.01" value="0"/></td>
				  <td><input id="geometry_offset_box"    class="box"    type="number" min="-2" max="2" step="0.01" value="0"/></td>
				 </tr>
				</table>
				 </fieldset>
			  </form>
			  
			  <form style="font-weight: normal" id="surface_orientation">
				<fieldset>
				  <b>orientation</b>
				  <br>
				  <table>
				  <tr>
					<td>lat&nbsp;[°]</td>
					<td><input id="lat_slider" class="slider" type="range" min="-90" max="90" step="1" value="90"/></td>
					<td><input id="lat_box"    class="box" type="number" min="-90" max="90" step="1" value="0"/><br></td>
				  </tr>
				  <tr>
					<td>lon&nbsp;[°]</td>
					<td><input id="lon_slider" class="slider" type="range" min="-180" max="180" step="1" value="0"/></td>
					<td><input id="lon_box"    class="box" type="number" min="-180" max="180" step="1" value="0"/></td>
				  </tr>
				  <tr>
					<td>rot&nbsp;[°]</td>
					<td><input id="rot_slider" class="slider" type="range" min="-180" max="180" step="1" value="0"/></td>
					<td><input id="rot_box"    class="box" type="number" min="-180" max="180" step="1" value="0"/></td>
				  </tr>
				  </table>
				</fieldset>  
			  </form>
			  
			  <form style="font-weight: normal" id="lightsource">
				<fieldset>
				  <b>light source</b>
				  <br>
				  <table>
				 <tr>
				  <td>offset</td>
				  <td><input id="lightsource_offset_slider" class="slider" type="range"  min="-2" max="2" step="0.01" value="0"/></td>
				  <td><input id="lightsource_offset_box"    class="box"    type="number" min="-2" max="2" step="0.01" value="0"/></td>
				 </tr>
				  </table>
				</fieldset>
			  </form>
			  
			  <form style="font-weight: normal" id="textures">
				<fieldset>
				  <b>texture</b>
				  <br>
				  <table>
				 <tr>
				  <td>borders</td>
				  <td><input type="checkbox" id="borders-checkbox" onchange="bordersChanged()"><br></td>
				 </tr>
				 <tr>
				  <td>graticule</td>
				  <td><input type="checkbox" id="graticule-checkbox" onchange="graticuleChanged()"><br></td>
				 </tr>
				 <tr>
				  <td>Tissots indicatrices</td>
				  <td><input type="checkbox" id="tissot-checkbox" onchange="tissotChanged()"><br></td>
				 </tr>
				  </table>
				</fieldset>  
			  </form>
				<table>
				 <tr>
				  <td><button type="button" id="roll-button" onclick="rollPressed()">unroll</button><br></td>
				 </tr>
				</table>
		</div>
		<div id="webgl_canvas"></div>
		
		
		<script src="libs/three.js"></script>
		<script src="libs/TrackballControl.js"></script>
		
		<script src="glcanvas.js"></script>
		<script src="surface.js"></script>
		<script src="projectionCenter.js"></script>
		<script src="cutIndicator.js"></script>
		
		<script src="controls.js"></script>		

		<script>

		var glcanvas = new GLCanvas("webgl_canvas");
		
		var surface = new Surface(glcanvas.scene);
		var projectionCenter = new ProjectionCenter(glcanvas.scene);
		var cutIndicator = new CutIndicator(surface, glcanvas.scene);
		
		var controls = new Controls(surface, projectionCenter, cutIndicator);
		controls.reset();
			
		var clock  = new THREE.Clock();
		
		var animate = function () {
			var delta = clock.getDelta();
			requestAnimationFrame(animate);

			glcanvas.update(delta);
			surface.update(delta);
			cutIndicator.updateGeometry();
		};

		animate();
			
		</script>
	</body>
</html>